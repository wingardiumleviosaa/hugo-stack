<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Introduction In addition to Kafka Broker, the Kafka ecosystem also includes Kafka Connect, Kafka Bridge, Mirror Maker, etc. Setting up Kafka in Kubernetes through an Operator is easier than writing multiple manifests or installing multiple helm charts. This article selects Strimzi, which has the most stars in the Kafka Operator project on GitHub. The following table provides a list of resources that Stimzi can deploy.\n">
<title>[Kubernetes] Install Kafka Kraft Cluster through Strizi</title>

<link rel='canonical' href='http://localhost:1313/en/p/k8s-strimzi-kafka-kraft-cluster/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="[Kubernetes] Install Kafka Kraft Cluster through Strizi">
<meta property='og:description' content="Introduction In addition to Kafka Broker, the Kafka ecosystem also includes Kafka Connect, Kafka Bridge, Mirror Maker, etc. Setting up Kafka in Kubernetes through an Operator is easier than writing multiple manifests or installing multiple helm charts. This article selects Strimzi, which has the most stars in the Kafka Operator project on GitHub. The following table provides a list of resources that Stimzi can deploy.\n">
<meta property='og:url' content='http://localhost:1313/en/p/k8s-strimzi-kafka-kraft-cluster/'>
<meta property='og:site_name' content='Ulagraphy'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Kubernetes' /><meta property='article:tag' content='Kafka' /><meta property='article:published_time' content='2024-06-01T12:45:10&#43;08:00'/><meta property='article:modified_time' content='2024-06-01T12:45:10&#43;08:00'/>
<meta name="twitter:title" content="[Kubernetes] Install Kafka Kraft Cluster through Strizi">
<meta name="twitter:description" content="Introduction In addition to Kafka Broker, the Kafka ecosystem also includes Kafka Connect, Kafka Bridge, Mirror Maker, etc. Setting up Kafka in Kubernetes through an Operator is easier than writing multiple manifests or installing multiple helm charts. This article selects Strimzi, which has the most stars in the Kafka Operator project on GitHub. The following table provides a list of resources that Stimzi can deploy.\n">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/en/">
                
                    
                    
                    
                        
                        <img src="/img/riley_hu17805601869160397701.png" width="300"
                            height="293" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ðŸ›¸</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/en">Ulagraphy</a></h1>
            <h2 class="site-description">Everyone Is An Alien Somewhere</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/wingardiumleviosaa'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://www.linkedin.com/in/ulah/'
                        target="_blank"
                        title="Linkedin"
                        rel="me"
                    >
                        
                        
                            <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z" /><path d="M8 11l0 5" /><path d="M8 8l0 .01" /><path d="M12 16l0 -5" /><path d="M16 16v-3a2 2 0 0 0 -4 0" /></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/en/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="http://localhost:1313/en/" selected>English</option>
                                
                                    <option value="http://localhost:1313/" >ä¸­æ–‡</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#strimzi-operator-deployment-best-practice">Strimzi Operator Deployment Best Practice</a></li>
    <li><a href="#operator-installation">Operator Installation</a></li>
    <li><a href="#kafka-cluster-deployment">Kafka Cluster Deployment</a></li>
    <li><a href="#load-balance-for-kafka">Load Balance for Kafka</a></li>
    <li><a href="#deployment-architecture">Deployment Architecture</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/en/categories/dataengineering/" style="background-color: #9dd0e1; color: #fff;">
                Data Engineering
            </a>
        
            <a href="/en/categories/apachekafka/" style="background-color: #8fd6ab; color: #fff;">
                Apache Kafka
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/en/p/k8s-strimzi-kafka-kraft-cluster/">[Kubernetes] Install Kafka Kraft Cluster through Strizi</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Jun 01, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    5 minute read
                </time>
            </div>
        
    </footer>
    

    
        <footer class="article-translations">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



            <div>
                
                    <a href="http://localhost:1313/p/k8s-strimzi-kafka-kraft-cluster/" class="link">ä¸­æ–‡</a>
                
            </div>
        </footer>
    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="introduction">Introduction
</h2><p>In addition to Kafka Broker, the Kafka ecosystem also includes Kafka Connect, Kafka Bridge, Mirror Maker, etc. Setting up Kafka in Kubernetes through an Operator is easier than writing multiple manifests or installing multiple helm charts. This article selects Strimzi, which has the most stars in the Kafka Operator project on GitHub. The following table provides a list of resources that Stimzi can deploy.</p>
<p><img src="/p/k8s-strimzi-kafka-kraft-cluster/resourcemap.png"
	width="625"
	height="508"
	srcset="/p/k8s-strimzi-kafka-kraft-cluster/resourcemap_hu6018340505207525801.png 480w, /p/k8s-strimzi-kafka-kraft-cluster/resourcemap_hu3996269250315124940.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="123"
		data-flex-basis="295px"
	
></p>
<h2 id="strimzi-operator-deployment-best-practice">Strimzi Operator Deployment Best Practice
</h2><ul>
<li>Installing the Strimzi Operator in a different namespace from the Kafka Cluster and other Kafka components it manages to ensure clear separation of resources and configuration.</li>
<li>A Kubernetes installs only a single Strimzi Operator to manage all Kafka instances.</li>
<li>Updated Strimzi Operator and supported Kafka versions to reflect the latest features and enhancements.</li>
</ul>
<h2 id="operator-installation">Operator Installation
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">kubectl create ns kafka</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">kubectl create -f &#39;https://strimzi.io/install/latest?namespace=kafka&#39; -n kafka</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/k8s-strimzi-kafka-kraft-cluster/operator.png"
	width="824"
	height="546"
	srcset="/p/k8s-strimzi-kafka-kraft-cluster/operator_hu10904569977305646945.png 480w, /p/k8s-strimzi-kafka-kraft-cluster/operator_hu4361602364429218978.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="150"
		data-flex-basis="362px"
	
></p>
<h2 id="kafka-cluster-deployment">Kafka Cluster Deployment
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://github.com/strimzi/strimzi-kafka-operator/releases/download/0.41.0/strimzi-0.41.0.tar.gz
</span></span><span class="line"><span class="cl">tar zxvf strimzi-0.41.0.tar.gz
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> strimzi-0.41.0
</span></span><span class="line"><span class="cl">cp examples/kafka/kraft/kafka.yaml .
</span></span><span class="line"><span class="cl">vi kafka.yaml
</span></span></code></pre></td></tr></table>
</div>
</div><p>Modify the deployment file. Deployment of Kafka cluster in KRaft mode requires the use of KafkaNodePool resources, so the yaml of the above two node pools are resources that must be deployed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.strimzi.io/v1beta2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">KafkaNodePool</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">controller</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">strimzi.io/cluster</span><span class="p">:</span><span class="w"> </span><span class="l">my-cluster</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">roles</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">controller</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">storage</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">jbod</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">persistent-claim</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l">100Gi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">kraftMetadata</span><span class="p">:</span><span class="w"> </span><span class="l">shared</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">deleteClaim</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">ceph-csi-rbd-hdd</span><span class="w"> </span><span class="c"># Replace with existing storage class</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.strimzi.io/v1beta2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">KafkaNodePool</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">broker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">labels</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">strimzi.io/cluster</span><span class="p">:</span><span class="w"> </span><span class="l">my-cluster</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">roles</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">broker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">storage</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">jbod</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">persistent-claim</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">size</span><span class="p">:</span><span class="w"> </span><span class="l">100Gi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">kraftMetadata</span><span class="p">:</span><span class="w"> </span><span class="l">shared</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">deleteClaim</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">ceph-csi-rbd-hdd</span><span class="w"> </span><span class="c"># Replace with existing storage class</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.strimzi.io/v1beta2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Kafka</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">my-cluster</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">annotations</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">strimzi.io/node-pools</span><span class="p">:</span><span class="w"> </span><span class="l">enabled</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">strimzi.io/kraft</span><span class="p">:</span><span class="w"> </span><span class="l">enabled</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">kafka</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="m">3.7.1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">metadataVersion</span><span class="p">:</span><span class="w"> </span><span class="m">3.7</span>-<span class="l">IV4</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">listeners</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">plain</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">9092</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">internal</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">tls</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">external</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">9094</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">nodeport</span><span class="w"> </span><span class="c"># Added external nodeport service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">tls</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">configuration</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">bootstrap</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">nodePort</span><span class="p">:</span><span class="w"> </span><span class="m">32100</span><span class="w"> </span><span class="c"># Specify the nodeport occupied by bootstrap. If the broker is not specified one by one, the Operator will automatically assign it.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">brokers</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">broker</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">advertisedHost</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.sdsp-dev.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">advertisedPort</span><span class="p">:</span><span class="w"> </span><span class="m">8091</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">broker</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">advertisedHost</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.sdsp-dev.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">advertisedPort</span><span class="p">:</span><span class="w"> </span><span class="m">8092</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="nt">broker</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">advertisedHost</span><span class="p">:</span><span class="w"> </span><span class="l">kafka.sdsp-dev.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">advertisedPort</span><span class="p">:</span><span class="w"> </span><span class="m">8093</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">config</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">offsets.topic.replication.factor</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">transaction.state.log.replication.factor</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">transaction.state.log.min.isr</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">default.replication.factor</span><span class="p">:</span><span class="w"> </span><span class="m">3</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">min.insync.replicas</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">entityOperator</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">topicOperator</span><span class="p">:</span><span class="w"> </span>{}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">userOperator</span><span class="p">:</span><span class="w"> </span>{}<span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Start deployment</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">kubectl -n kafka apply -f kafka.yaml</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><img src="/p/k8s-strimzi-kafka-kraft-cluster/kafka.png"
	width="1053"
	height="556"
	srcset="/p/k8s-strimzi-kafka-kraft-cluster/kafka_hu8042694424149524473.png 480w, /p/k8s-strimzi-kafka-kraft-cluster/kafka_hu11003812758927831781.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="189"
		data-flex-basis="454px"
	
></p>
<p>View kafka and kafka node pool customized resource</p>
<p><img src="/p/k8s-strimzi-kafka-kraft-cluster/nodepool.png"
	width="798"
	height="151"
	srcset="/p/k8s-strimzi-kafka-kraft-cluster/nodepool_hu10912611383111986666.png 480w, /p/k8s-strimzi-kafka-kraft-cluster/nodepool_hu13277693928367786641.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="528"
		data-flex-basis="1268px"
	
></p>
<h2 id="load-balance-for-kafka">Load Balance for Kafka
</h2><p>The load forwarding rules of Nginx Load Balance must include the Node Ports of all Worker Nodes occupied by Bootstrap and Brokers.</p>
<p>The following is an example of setting up the Bootstrap port:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">upstream tcp9094 {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">server 172.20.37.42:32100 max_fails=3 fail_timeout=30s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">server 172.20.37.42:32100 max_fails=3 fail_timeout=30s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">server 172.20.37.42:32100 max_fails=3 fail_timeout=30s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">server 172.20.37.42:32100 max_fails=3 fail_timeout=30s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">server 172.20.37.42:32100 max_fails=3 fail_timeout=30s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">server 172.20.37.42:32100 max_fails=3 fail_timeout=30s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>}<span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">server {</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">listen        9094;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">proxy_pass    tcp9094;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">proxy_connect_timeout 300s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="l">proxy_timeout 300s;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>}<span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h2 id="deployment-architecture">Deployment Architecture
</h2><p><img src="/p/k8s-strimzi-kafka-kraft-cluster/deploy-arch.png"
	width="1237"
	height="597"
	srcset="/p/k8s-strimzi-kafka-kraft-cluster/deploy-arch_hu16921606723565751676.png 480w, /p/k8s-strimzi-kafka-kraft-cluster/deploy-arch_hu13002755497070177577.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="207"
		data-flex-basis="497px"
	
></p>
<style type="text/css">
     
    .notice {
        --title-color: #fff;
        --title-background-color: #6be;
        --content-color: #444;
        --content-background-color: #e7f2fa;
    }

    .notice.info {
        --title-background-color: #fb7;
        --content-background-color: #fec;
    }

    .notice.tip {
        --title-background-color: #5a5;
        --content-background-color: #efe;
    }

    .notice.warning {
        --title-background-color: #c33;
        --content-background-color: #fee;
    }

     
    @media (prefers-color-scheme:dark) {
        .notice {
            --title-color: #fff;
            --title-background-color: #069;
            --content-color: #ddd;
            --content-background-color: #023;
        }

        .notice.info {
            --title-background-color: #a50;
            --content-background-color: #420;
        }

        .notice.tip {
            --title-background-color: #363;
            --content-background-color: #121;
        }

        .notice.warning {
            --title-background-color: #800;
            --content-background-color: #400;
        }
    }

    body.dark .notice {
        --title-color: #fff;
        --title-background-color: #069;
        --content-color: #ddd;
        --content-background-color: #023;
    }

    body.dark .notice.info {
        --title-background-color: #a50;
        --content-background-color: #420;
    }

    body.dark .notice.tip {
        --title-background-color: #363;
        --content-background-color: #121;
    }

    body.dark .notice.warning {
        --title-background-color: #800;
        --content-background-color: #400;
    }

     
    .notice {
        padding: 18px;
        line-height: 24px;
        margin-bottom: 24px;
        border-radius: 4px;
        color: var(--content-color);
        background: var(--content-background-color);
    }

    .notice p:last-child {
        margin-bottom: 0
    }

     
    .notice-title {
        margin: -18px -18px 12px;
        padding: 4px 18px;
        border-radius: 4px 4px 0 0;
        font-weight: 700;
        color: var(--title-color);
        background: var(--title-background-color);
    }

     
    .icon-notice {
        display: inline-flex;
        align-self: center;
        margin-right: 8px;
    }

    .icon-notice img,
    .icon-notice svg {
        height: 1em;
        width: 1em;
        fill: currentColor;
    }

    .icon-notice img,
    .icon-notice.baseline svg {
        top: .125em;
        position: relative;
    }
</style><div class="notice note" >
    <p class="notice-title">
        <span class="icon-notice baseline">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 128 300 300">
  <path d="M150 128c82.813 0 150 67.188 150 150 0 82.813-67.188 150-150 150C67.187 428 0 360.812 0 278c0-82.813 67.188-150 150-150Zm25 243.555v-37.11c0-3.515-2.734-6.445-6.055-6.445h-37.5c-3.515 0-6.445 2.93-6.445 6.445v37.11c0 3.515 2.93 6.445 6.445 6.445h37.5c3.32 0 6.055-2.93 6.055-6.445Zm-.39-67.188 3.515-121.289c0-1.367-.586-2.734-1.953-3.516-1.172-.976-2.93-1.562-4.688-1.562h-42.968c-1.758 0-3.516.586-4.688 1.563-1.367.78-1.953 2.148-1.953 3.515l3.32 121.29c0 2.734 2.93 4.882 6.64 4.882h36.134c3.515 0 6.445-2.148 6.64-4.883Z"/>
</svg>

        </span>Note</p><p>When setting the external settings, you need to also specify the nodeport of each broker. Otherwise, when the client exists outside the network segment, you will encounter the error Disconnected from node 1 due to timeout.</p></div>

<p>For example:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zed" data-lang="zed"><span class="line"><span class="cl"><span class="p">[</span><span class="n">kafka</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">thread</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">NetworkClient</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="n">AdminClient</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="err">2</span><span class="w"> </span><span class="n">disconnected</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="n">kafka</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">thread</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">NetworkClient</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="n">AdminClient</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Cancelled</span><span class="w"> </span><span class="n">in</span><span class="o">-</span><span class="n">flight</span><span class="w"> </span><span class="n">API_VERSIONS</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">2</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">2</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">disconnected</span><span class="w"> </span><span class="p">(</span><span class="n">elapsed</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">creation</span><span class="o">:</span><span class="w"> </span><span class="err">7</span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">send</span><span class="o">:</span><span class="w"> </span><span class="err">7</span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">timeout</span><span class="o">:</span><span class="w"> </span><span class="err">3600000</span><span class="n">ms</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="n">kafka</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">thread</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">NetworkClient</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="n">AdminClient</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">disconnected</span><span class="p">.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="n">kafka</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">thread</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">NetworkClient</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="n">AdminClient</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Cancelled</span><span class="w"> </span><span class="n">in</span><span class="o">-</span><span class="n">flight</span><span class="w"> </span><span class="n">API_VERSIONS</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">3</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">disconnected</span><span class="w"> </span><span class="p">(</span><span class="n">elapsed</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">creation</span><span class="o">:</span><span class="w"> </span><span class="err">4</span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">send</span><span class="o">:</span><span class="w"> </span><span class="err">4</span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">timeout</span><span class="o">:</span><span class="w"> </span><span class="err">3600000</span><span class="n">ms</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="n">kafka</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">thread</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">INFO</span><span class="w"> </span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">NetworkClient</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">[</span><span class="n">AdminClient</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">flink</span><span class="o">-</span><span class="n">kafka</span><span class="o">-</span><span class="n">quickstart</span><span class="o">-</span><span class="n">enumerator</span><span class="o">-</span><span class="n">admin</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="err">0</span><span class="w"> </span><span class="n">disconnected</span><span class="p">.</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Or another example:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-zed" data-lang="zed"><span class="line"><span class="cl"><span class="p">[</span><span class="err">2024</span><span class="o">-</span><span class="err">09</span><span class="o">-</span><span class="err">18</span><span class="w"> </span><span class="err">16</span><span class="o">:</span><span class="err">28</span><span class="o">:</span><span class="err">17</span><span class="p">,</span><span class="err">666</span><span class="p">]</span><span class="w"> </span><span class="n">WARN</span><span class="w"> </span><span class="p">[</span><span class="n">Producer</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">perf</span><span class="o">-</span><span class="n">producer</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Got</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">4</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">topic</span><span class="o">-</span><span class="n">partition</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="n">retrying</span><span class="w"> </span><span class="p">(</span><span class="err">2147483646</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">left</span><span class="p">).</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">REQUEST_TIMED_OUT</span><span class="p">.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Message</span><span class="o">:</span><span class="w"> </span><span class="n">Disconnected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">producer</span><span class="p">.</span><span class="n">internals</span><span class="p">.</span><span class="n">Sender</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="err">2024</span><span class="o">-</span><span class="err">09</span><span class="o">-</span><span class="err">18</span><span class="w"> </span><span class="err">16</span><span class="o">:</span><span class="err">28</span><span class="o">:</span><span class="err">17</span><span class="p">,</span><span class="err">669</span><span class="p">]</span><span class="w"> </span><span class="n">WARN</span><span class="w"> </span><span class="p">[</span><span class="n">Producer</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">perf</span><span class="o">-</span><span class="n">producer</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Got</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">5</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">topic</span><span class="o">-</span><span class="n">partition</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="n">retrying</span><span class="w"> </span><span class="p">(</span><span class="err">2147483646</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">left</span><span class="p">).</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">REQUEST_TIMED_OUT</span><span class="p">.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Message</span><span class="o">:</span><span class="w"> </span><span class="n">Disconnected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">producer</span><span class="p">.</span><span class="n">internals</span><span class="p">.</span><span class="n">Sender</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="err">2024</span><span class="o">-</span><span class="err">09</span><span class="o">-</span><span class="err">18</span><span class="w"> </span><span class="err">16</span><span class="o">:</span><span class="err">28</span><span class="o">:</span><span class="err">17</span><span class="p">,</span><span class="err">669</span><span class="p">]</span><span class="w"> </span><span class="n">WARN</span><span class="w"> </span><span class="p">[</span><span class="n">Producer</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">perf</span><span class="o">-</span><span class="n">producer</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Got</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">6</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">topic</span><span class="o">-</span><span class="n">partition</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="n">retrying</span><span class="w"> </span><span class="p">(</span><span class="err">2147483646</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">left</span><span class="p">).</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">REQUEST_TIMED_OUT</span><span class="p">.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Message</span><span class="o">:</span><span class="w"> </span><span class="n">Disconnected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">producer</span><span class="p">.</span><span class="n">internals</span><span class="p">.</span><span class="n">Sender</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="err">2024</span><span class="o">-</span><span class="err">09</span><span class="o">-</span><span class="err">18</span><span class="w"> </span><span class="err">16</span><span class="o">:</span><span class="err">28</span><span class="o">:</span><span class="err">17</span><span class="p">,</span><span class="err">669</span><span class="p">]</span><span class="w"> </span><span class="n">WARN</span><span class="w"> </span><span class="p">[</span><span class="n">Producer</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">perf</span><span class="o">-</span><span class="n">producer</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Got</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">7</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">topic</span><span class="o">-</span><span class="n">partition</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="n">retrying</span><span class="w"> </span><span class="p">(</span><span class="err">2147483646</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">left</span><span class="p">).</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">REQUEST_TIMED_OUT</span><span class="p">.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Message</span><span class="o">:</span><span class="w"> </span><span class="n">Disconnected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">producer</span><span class="p">.</span><span class="n">internals</span><span class="p">.</span><span class="n">Sender</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="err">2024</span><span class="o">-</span><span class="err">09</span><span class="o">-</span><span class="err">18</span><span class="w"> </span><span class="err">16</span><span class="o">:</span><span class="err">28</span><span class="o">:</span><span class="err">17</span><span class="p">,</span><span class="err">670</span><span class="p">]</span><span class="w"> </span><span class="n">WARN</span><span class="w"> </span><span class="p">[</span><span class="n">Producer</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">perf</span><span class="o">-</span><span class="n">producer</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Got</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">8</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">topic</span><span class="o">-</span><span class="n">partition</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="n">retrying</span><span class="w"> </span><span class="p">(</span><span class="err">2147483646</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">left</span><span class="p">).</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">REQUEST_TIMED_OUT</span><span class="p">.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Message</span><span class="o">:</span><span class="w"> </span><span class="n">Disconnected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">producer</span><span class="p">.</span><span class="n">internals</span><span class="p">.</span><span class="n">Sender</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="err">2024</span><span class="o">-</span><span class="err">09</span><span class="o">-</span><span class="err">18</span><span class="w"> </span><span class="err">16</span><span class="o">:</span><span class="err">28</span><span class="o">:</span><span class="err">47</span><span class="p">,</span><span class="err">774</span><span class="p">]</span><span class="w"> </span><span class="n">WARN</span><span class="w"> </span><span class="p">[</span><span class="n">Producer</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">perf</span><span class="o">-</span><span class="n">producer</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Got</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">12</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">topic</span><span class="o">-</span><span class="n">partition</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="n">retrying</span><span class="w"> </span><span class="p">(</span><span class="err">2147483645</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">left</span><span class="p">).</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">REQUEST_TIMED_OUT</span><span class="p">.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Message</span><span class="o">:</span><span class="w"> </span><span class="n">Disconnected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">producer</span><span class="p">.</span><span class="n">internals</span><span class="p">.</span><span class="n">Sender</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">[</span><span class="err">2024</span><span class="o">-</span><span class="err">09</span><span class="o">-</span><span class="err">18</span><span class="w"> </span><span class="err">16</span><span class="o">:</span><span class="err">29</span><span class="o">:</span><span class="err">17</span><span class="p">,</span><span class="err">883</span><span class="p">]</span><span class="w"> </span><span class="n">WARN</span><span class="w"> </span><span class="p">[</span><span class="n">Producer</span><span class="w"> </span><span class="n">clientId</span><span class="o">=</span><span class="n">perf</span><span class="o">-</span><span class="n">producer</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="w"> </span><span class="n">Got</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">correlation</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="err">15</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">topic</span><span class="o">-</span><span class="n">partition</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="p">,</span><span class="w"> </span><span class="n">retrying</span><span class="w"> </span><span class="p">(</span><span class="err">2147483644</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">left</span><span class="p">).</span><span class="w"> </span><span class="n">Error</span><span class="o">:</span><span class="w"> </span><span class="n">REQUEST_TIMED_OUT</span><span class="p">.</span><span class="w"> </span><span class="n">Error</span><span class="w"> </span><span class="n">Message</span><span class="o">:</span><span class="w"> </span><span class="n">Disconnected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="err">1</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="p">(</span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">clients</span><span class="p">.</span><span class="n">producer</span><span class="p">.</span><span class="n">internals</span><span class="p">.</span><span class="n">Sender</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">common</span><span class="p">.</span><span class="n">errors</span><span class="p">.</span><span class="n">TimeoutException</span><span class="o">:</span><span class="w"> </span><span class="n">Expiring</span><span class="w"> </span><span class="err">15</span><span class="w"> </span><span class="n">record</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="o">:</span><span class="err">120000</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">batch</span><span class="w"> </span><span class="n">creation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">common</span><span class="p">.</span><span class="n">errors</span><span class="p">.</span><span class="n">TimeoutException</span><span class="o">:</span><span class="w"> </span><span class="n">Expiring</span><span class="w"> </span><span class="err">15</span><span class="w"> </span><span class="n">record</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="o">:</span><span class="err">120000</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">batch</span><span class="w"> </span><span class="n">creation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">common</span><span class="p">.</span><span class="n">errors</span><span class="p">.</span><span class="n">TimeoutException</span><span class="o">:</span><span class="w"> </span><span class="n">Expiring</span><span class="w"> </span><span class="err">15</span><span class="w"> </span><span class="n">record</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="o">:</span><span class="err">120000</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">batch</span><span class="w"> </span><span class="n">creation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">org</span><span class="p">.</span><span class="n">apache</span><span class="p">.</span><span class="n">kafka</span><span class="p">.</span><span class="n">common</span><span class="p">.</span><span class="n">errors</span><span class="p">.</span><span class="n">TimeoutException</span><span class="o">:</span><span class="w"> </span><span class="n">Expiring</span><span class="w"> </span><span class="err">15</span><span class="w"> </span><span class="n">record</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">mocktest</span><span class="o">-</span><span class="err">0</span><span class="o">:</span><span class="err">120000</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">batch</span><span class="w"> </span><span class="n">creation</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/en/tags/kubernetes/">Kubernetes</a>
        
            <a href="/en/tags/kafka/">Kafka</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/en/p/k8s-bitnami-kafka-kraft-helm-chart/">
        
        

        <div class="article-details">
            <h2 class="article-title">[Kubernetes] Install Kafka Kraft Cluster by Bitnami Helm Chart</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2019 - 
        
        2024 Ula Hsieh
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.07a481f95685337a665687e3e04b7c308a87b591c2c22e3d705d67f147e0c71f.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
